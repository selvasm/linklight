---
- name: PING ALL THE ROUTER NETWORK
  hosts: localhost  # Executes the playbook across the all the hosts under the SmartInventory
  connection: network_cli # Informs to use the network connections for the router
  gather_facts: false 
  tasks:
  - debug:
      msg: "{{ hostvars[item].private_ip }}"
    with_inventory_hostnames: env
  
  - name: To test the Netping
    net_ping:
      dest: "{{ hostvars[item].private_ip }}"
      source: 127.0.0.1
      count: 1
    with_inventory_hostnames: env
